{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{withRouter}from\"react-router-dom\";import persianJs from\"persianjs\";import{fetchAssetDevices,setAssetDetail,fetchSingleAsset}from\"../store/actions\";import DevicesItem from\"../Component/DevicesItem\";import building from\"../img/building.svg\";import low from\"../img/low.svg\";import high from\"../img/high.svg\";import BackIcon from\"../Component/BackIcon\";import waterIcon from\"../img/water-icon.svg\";import gasIcon from\"../img/gas-icon.svg\";import electricityICon from\"../img/elec-icon.svg\";var TowerDetail=/*#__PURE__*/function(_Component){_inherits(TowerDetail,_Component);var _super=_createSuper(TowerDetail);function TowerDetail(){var _this;_classCallCheck(this,TowerDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.goBack=function(){_this.props.history.push(\"/\");};_this.persionConvertor=function(data){var persian=persianJs(\"\".concat(data)).englishNumber()._str;return persian;};_this.renderTower=function(){var _this$props=_this.props,assetInfo=_this$props.assetInfo,devices=_this$props.devices,type=_this$props.type;return/*#__PURE__*/React.createElement(\"div\",{className:\"card tower-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-50\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tower-name\"},/*#__PURE__*/React.createElement(\"img\",{src:building,width:\"50px\",alt:\"\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"card-title\"},assetInfo.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u0646\\u0648\\u0639:\",/*#__PURE__*/React.createElement(\"span\",null,assetInfo.type)),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u062A\\u0639\\u062F\\u0627\\u062F \\u06A9\\u0646\\u062A\\u0648\\u0631 :\",/*#__PURE__*/React.createElement(\"span\",null,_this.persionConvertor(devices.length))),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u0633\\u06CC\\u06AF\\u0646\\u0627\\u0644 :\",/*#__PURE__*/React.createElement(\"img\",{alt:\"\",className:\"ml-2\",width:\"20px\",src:assetInfo.name===\"برج سینا\"?low:high}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u0646\\u0648\\u0639 \\u0645\\u0627\\u0644\\u06A9:\",/*#__PURE__*/React.createElement(\"span\",null,assetInfo.subtype)),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u0622\\u062F\\u0631\\u0633 :\",/*#__PURE__*/React.createElement(\"span\",null,assetInfo.address)),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u062A\\u0648\\u0636\\u06CC\\u062D\\u0627\\u062A :\",/*#__PURE__*/React.createElement(\"span\",null,assetInfo.description))),/*#__PURE__*/React.createElement(\"div\",{className:\"tag-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tag\"},/*#__PURE__*/React.createElement(\"img\",{src:_this.getIcon(),width:\"30px\",alt:\"\"}),_this.getType()),/*#__PURE__*/React.createElement(\"div\",{className:\"tag\"},assetInfo.city),/*#__PURE__*/React.createElement(\"div\",{className:\"tag\"},assetInfo.type)))),/*#__PURE__*/React.createElement(\"a\",{onClick:_this.goBack,className:\"btn btn-light mt-auto\"},/*#__PURE__*/React.createElement(BackIcon,null),\"\\u0628\\u0627\\u0632\\u06AF\\u0634\\u062A\")));};_this.getIcon=function(){var type=_this.props.type;if(type===\"electricity\"){return electricityICon;}if(type===\"water\"){return waterIcon;}if(type===\"gas\"){return gasIcon;}};_this.getType=function(){var type=_this.props.type;if(type===\"electricity\"){return\"برق\";}if(type===\"water\"){return\"آب\";}if(type===\"gas\"){return\"گاز\";}};_this.renderList=function(){var devices=_this.props.devices;return devices.map(function(item,index){return/*#__PURE__*/React.createElement(DevicesItem,{key:index,item:item});});};return _this;}_createClass(TowerDetail,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchSingleAsset({assetId:this.props.id,type:this.props.type});this.props.fetchAssetDevices({assetId:this.props.id,type:this.props.type});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",null,this.renderTower()),/*#__PURE__*/React.createElement(\"div\",{className:\"list-box\"},this.renderList()));}}]);return TowerDetail;}(Component);var mapStateToProps=function mapStateToProps(_ref){var AssetDevicesReducer=_ref.AssetDevicesReducer,SingleAssetReducer=_ref.SingleAssetReducer,AssetDetailReducer=_ref.AssetDetailReducer;return{devices:AssetDevicesReducer.data,assetInfo:SingleAssetReducer.data,id:AssetDetailReducer.data.assetId,type:AssetDetailReducer.data.type};};export default connect(mapStateToProps,{fetchAssetDevices:fetchAssetDevices,setAssetDetail:setAssetDetail,fetchSingleAsset:fetchSingleAsset})(withRouter(TowerDetail));","map":{"version":3,"sources":["C:/Users/HP/Desktop/dashboard redux/dashboard/src/Pages/TowerDetail.jsx"],"names":["React","Component","connect","withRouter","persianJs","fetchAssetDevices","setAssetDetail","fetchSingleAsset","DevicesItem","BackIcon","TowerDetail","goBack","props","history","push","persionConvertor","data","persian","englishNumber","_str","renderTower","assetInfo","devices","type","building","name","length","low","high","subtype","address","description","getIcon","getType","city","electricityICon","waterIcon","gasIcon","renderList","map","item","index","assetId","id","_isMounted","mapStateToProps","AssetDevicesReducer","SingleAssetReducer","AssetDetailReducer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport persianJs from \"persianjs\";\r\nimport {\r\n  fetchAssetDevices,\r\n  setAssetDetail,\r\n  fetchSingleAsset,\r\n} from \"../store/actions\";\r\nimport DevicesItem from \"../Component/DevicesItem\";\r\nimport building from \"../img/building.svg\";\r\nimport low from \"../img/low.svg\";\r\nimport high from \"../img/high.svg\";\r\nimport BackIcon from \"../Component/BackIcon\";\r\nimport waterIcon from \"../img/water-icon.svg\";\r\nimport gasIcon from \"../img/gas-icon.svg\";\r\nimport electricityICon from \"../img/elec-icon.svg\";\r\n\r\nclass TowerDetail extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchSingleAsset({\r\n      assetId: this.props.id,\r\n      type: this.props.type,\r\n    });\r\n    this.props.fetchAssetDevices({\r\n      assetId: this.props.id,\r\n      type: this.props.type,\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n  goBack = () => {\r\n    this.props.history.push(\"/\");\r\n  };\r\n  persionConvertor = (data) => {\r\n    const persian = persianJs(`${data}`).englishNumber()._str;\r\n    return persian;\r\n  };\r\n  renderTower = () => {\r\n    const { assetInfo, devices, type } = this.props;\r\n\r\n    return (\r\n      <div className=\"card tower-info\">\r\n        <div className=\"card-body\">\r\n          <div className=\"w-50\">\r\n            <div className=\"tower-name\">\r\n              <img src={building} width=\"50px\" alt=\"\" />\r\n              <h3 className=\"card-title\">{assetInfo.name}</h3>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div>\r\n                <p className=\"card-text\">\r\n                  نوع:\r\n                  <span>{assetInfo.type}</span>\r\n                </p>\r\n                <p className=\"card-text\">\r\n                  تعداد کنتور :<span>{this.persionConvertor(devices.length)}</span>\r\n                </p>\r\n                <p className=\"card-text\">\r\n                  سیگنال :\r\n                  <img\r\n                    alt=\"\"\r\n                    className=\"ml-2\"\r\n                    width=\"20px\"\r\n                    src={assetInfo.name === \"برج سینا\" ? low : high}\r\n                  />\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"card-text\">\r\n                  نوع مالک:\r\n                  <span>{assetInfo.subtype}</span>\r\n                </p>\r\n                <p className=\"card-text\">\r\n                  آدرس :<span>{assetInfo.address}</span>\r\n                </p>\r\n                <p className=\"card-text\">\r\n                  توضیحات :<span>{assetInfo.description}</span>\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"tag-box\">\r\n                <div className=\"tag\">\r\n                  <img src={this.getIcon()} width=\"30px\" alt=\"\" />\r\n                  {this.getType()}\r\n                </div>\r\n                <div className=\"tag\">{assetInfo.city}</div>\r\n                <div className=\"tag\">{assetInfo.type}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <a onClick={this.goBack} className=\"btn btn-light mt-auto\">\r\n            <BackIcon />\r\n            بازگشت\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  getIcon = () => {\r\n    const { type } = this.props;\r\n    if (type === \"electricity\") {\r\n      return electricityICon;\r\n    }\r\n    if (type === \"water\") {\r\n      return waterIcon;\r\n    }\r\n    if (type === \"gas\") {\r\n      return gasIcon;\r\n    }\r\n  };\r\n  getType = () => {\r\n    const { type } = this.props;\r\n    if (type === \"electricity\") {\r\n      return \"برق\";\r\n    }\r\n    if (type === \"water\") {\r\n      return \"آب\";\r\n    }\r\n    if (type === \"gas\") {\r\n      return \"گاز\";\r\n    }\r\n  };\r\n  renderList = () => {\r\n    const { devices } = this.props;\r\n    return devices.map((item, index) => {\r\n      return <DevicesItem key={index} item={item} />;\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-10\">\r\n        <div>{this.renderTower()}</div>\r\n        <div className=\"list-box\">{this.renderList()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  AssetDevicesReducer,\r\n  SingleAssetReducer,\r\n  AssetDetailReducer,\r\n}) => {\r\n  return {\r\n    devices: AssetDevicesReducer.data,\r\n    assetInfo: SingleAssetReducer.data,\r\n    id: AssetDetailReducer.data.assetId,\r\n    type: AssetDetailReducer.data.type,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchAssetDevices,\r\n  setAssetDetail,\r\n  fetchSingleAsset,\r\n})(withRouter(TowerDetail));\r\n"]},"metadata":{},"sourceType":"module"}