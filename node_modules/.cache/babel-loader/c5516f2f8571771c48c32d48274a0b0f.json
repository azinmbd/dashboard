{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\HP\\\\Desktop\\\\dashboard redux\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{fetchAllBuildings,searchBuildingDevices}from\"../store/actions\";import DevicesItem from\"../Component/DevicesItem\";import SearchIcon from\"../Component/SearchIcon\";var SearchResult=/*#__PURE__*/function(_Component){_inherits(SearchResult,_Component);var _super=_createSuper(SearchResult);function SearchResult(){var _this;_classCallCheck(this,SearchResult);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._isMounted=false;_this.state={searchText:\"\"};_this.validate=function(){document.addEventListener(\"DOMContentLoaded\",function(){var elements=document.getElementsByTagName(\"INPUT\");for(var i=0;i<elements.length;i++){elements[i].oninvalid=function(e){e.target.setCustomValidity(\"\");if(!e.target.validity.valid){e.target.setCustomValidity(\"لطفا این بخش را پر کنید\");}};elements[i].oninput=function(e){e.target.setCustomValidity(\"\");};}});};_this.handleChange=function(event){_this.setState({searchText:event.target.value});};_this.handleSubmit=function(event){_this.validate();event.preventDefault();_this.props.searchBuildingDevices({buildingId:_this.props.uuid,searchText:_this.state.searchText});var path=\"/Gozareshat/search/\".concat(_this.state.searchText);_this.props.history.push(path);document.getElementById(\"mainInput\").reset();};_this.renderSearchResult=function(){var searchResult=_this.props.searchResult;if(searchResult.length===0){return/*#__PURE__*/React.createElement(\"div\",null,\"\\u0646\\u062A\\u06CC\\u062C\\u0647 \\u0627\\u06CC \\u06CC\\u0627\\u0641\\u062A \\u0646\\u0634\\u062F\");}else{return searchResult.map(function(item,index){return/*#__PURE__*/React.createElement(DevicesItem,{key:index,item:item});});}};return _this;}_createClass(SearchResult,[{key:\"componentDidMount\",value:function componentDidMount(){this._isMounted=true;this.validate();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"gozareshat-bg p-3 col-lg-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 form-box\"},/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0628\\u0631\\u0627\\u06CC \\u062C\\u0633\\u062A\\u062C\\u0648\\u06CC \\u06A9\\u0646\\u062A\\u0648\\u0631 \\u0645\\u0648\\u0631\\u062F \\u0646\\u0638\\u0631 \\u0634\\u0646\\u0627\\u0633\\u0647 \\u06A9\\u0646\\u062A\\u0648\\u0631 \\u0631\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F.\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,id:\"mainInput\",className:\"form-inline my-2 my-lg-0 search-form\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control mr-sm-2 \",value:this.state.searchText,onChange:this.handleChange,type:\"number\",placeholder:\"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u0634\\u0646\\u0627\\u0633\\u0647 \\u06A9\\u0646\\u062A\\u0648\\u0631...\",\"aria-label\":\"Search\",required:true}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-success my-2 my-sm-0\",type:\"submit\"},\"\\u062C\\u0633\\u062A\\u062C\\u0648\",/*#__PURE__*/React.createElement(SearchIcon,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"list-box\",id:\"style-7\"},this.renderSearchResult()));}}]);return SearchResult;}(Component);var mapStateToProps=function mapStateToProps(_ref){var AllBuildingsReducer=_ref.AllBuildingsReducer,SearchBuildingReducer=_ref.SearchBuildingReducer;return{uuid:AllBuildingsReducer.data[0].uuid,searchResult:SearchBuildingReducer.data};};export default connect(mapStateToProps,{fetchAllBuildings:fetchAllBuildings,searchBuildingDevices:searchBuildingDevices})(withRouter(SearchResult));","map":{"version":3,"sources":["C:/Users/HP/Desktop/dashboard redux/dashboard/src/Pages/SearchResult.jsx"],"names":["React","Component","withRouter","connect","fetchAllBuildings","searchBuildingDevices","DevicesItem","SearchIcon","SearchResult","_isMounted","state","searchText","validate","document","addEventListener","elements","getElementsByTagName","i","length","oninvalid","e","target","setCustomValidity","validity","valid","oninput","handleChange","event","setState","value","handleSubmit","preventDefault","props","buildingId","uuid","path","history","push","getElementById","reset","renderSearchResult","searchResult","map","item","index","mapStateToProps","AllBuildingsReducer","SearchBuildingReducer","data"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  fetchAllBuildings,\r\n  searchBuildingDevices,\r\n} from \"../store/actions\";\r\n\r\nimport DevicesItem from \"../Component/DevicesItem\";\r\nimport SearchIcon from \"../Component/SearchIcon\";\r\nclass SearchResult extends Component {\r\n    _isMounted = false;\r\n    state = {\r\n\r\n\r\n      searchText: \"\",\r\n    };\r\n  \r\n    componentDidMount() {\r\n      this._isMounted = true;\r\n      this.validate();\r\n  \r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n  \r\n    validate = () => {\r\n      document.addEventListener(\"DOMContentLoaded\", function () {\r\n        var elements = document.getElementsByTagName(\"INPUT\");\r\n        for (var i = 0; i < elements.length; i++) {\r\n          elements[i].oninvalid = function (e) {\r\n            e.target.setCustomValidity(\"\");\r\n            if (!e.target.validity.valid) {\r\n              e.target.setCustomValidity(\"لطفا این بخش را پر کنید\");\r\n            }\r\n          };\r\n          elements[i].oninput = function (e) {\r\n            e.target.setCustomValidity(\"\");\r\n          };\r\n        }\r\n      });\r\n    };\r\n    handleChange = (event) => {\r\n      this.setState({ searchText: event.target.value });\r\n    };\r\n    \r\n    handleSubmit = (event) => {\r\n        this.validate();\r\n      event.preventDefault();\r\n      this.props.searchBuildingDevices({\r\n        buildingId: this.props.uuid,\r\n        searchText: this.state.searchText,\r\n      });\r\n      const path = `/Gozareshat/search/${this.state.searchText}`\r\n      this.props.history.push(path)\r\n      document.getElementById(\"mainInput\").reset();\r\n    };\r\n  \r\n    renderSearchResult = () => {\r\n      const { searchResult } = this.props;\r\n      if (searchResult.length===0){\r\n        return(\r\n          <div>نتیجه ای یافت نشد</div>\r\n        )\r\n      }else{\r\n        return searchResult.map((item, index) => {\r\n          return <DevicesItem key={index} item={item} />;\r\n        });\r\n      }\r\n    };\r\n  \r\n    render() {\r\n      return (\r\n        <div className=\"gozareshat-bg p-3 col-lg-10\">\r\n          <div className=\"w-100 form-box\">\r\n            <h6>برای جستجوی کنتور مورد نظر شناسه کنتور را وارد کنید.</h6>\r\n            <form\r\n              onSubmit={this.handleSubmit}\r\n              id=\"mainInput\"\r\n              className=\"form-inline my-2 my-lg-0 search-form\"\r\n            >\r\n              <input\r\n                className=\"form-control mr-sm-2 \"\r\n                value={this.state.searchText}\r\n                onChange={this.handleChange}\r\n                type=\"number\"\r\n                placeholder=\"شماره شناسه کنتور...\"\r\n                aria-label=\"Search\"\r\n                required\r\n              />\r\n  \r\n              <button\r\n                className=\"btn btn-outline-success my-2 my-sm-0\"\r\n                type=\"submit\"\r\n              >\r\n                جستجو\r\n                <SearchIcon />\r\n              </button>\r\n            </form>\r\n          </div>\r\n          <div className=\"list-box\" id=\"style-7\">{this.renderSearchResult()}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  const mapStateToProps = ({\r\n    AllBuildingsReducer,\r\n    SearchBuildingReducer,\r\n  }) => {\r\n    return {\r\n      uuid: AllBuildingsReducer.data[0].uuid,\r\n      searchResult: SearchBuildingReducer.data,\r\n    };\r\n  };\r\n \r\n  export default connect(mapStateToProps, {\r\n    fetchAllBuildings,\r\n    searchBuildingDevices,\r\n  })(withRouter(SearchResult));"]},"metadata":{},"sourceType":"module"}